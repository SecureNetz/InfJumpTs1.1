-- DELTA EXECUTOR FE Animation Loader 

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")

local player = Players.LocalPlayer

-- GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "AnimationLoaderDelta"
ScreenGui.DisplayOrder = 2147483647
ScreenGui.ResetOnSpawn = false
ScreenGui.IgnoreGuiInset = true
ScreenGui.Parent = player:WaitForChild("PlayerGui")

-- MAIN FRAME
local MainFrame = Instance.new("Frame")
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.fromRGB(30,30,40)
MainFrame.BorderSizePixel = 0
MainFrame.Position = UDim2.new(0.02,0,0.02,0)
MainFrame.Size = UDim2.new(0,420,0,380)
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Visible = true
MainFrame.ZIndex = 999

Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0,12)

local Stroke = Instance.new("UIStroke", MainFrame)
Stroke.Color = Color3.fromRGB(0,255,127)
Stroke.Thickness = 3

-- TITLE
local Title = Instance.new("TextLabel", MainFrame)
Title.BackgroundTransparency = 1
Title.Position = UDim2.new(0,20,0,15)
Title.Size = UDim2.new(1,-80,0,50)
Title.Font = Enum.Font.GothamBold
Title.Text = "üé≠ ANIMATION LOADER"
Title.TextColor3 = Color3.fromRGB(0,255,127)
Title.TextScaled = true
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.ZIndex = 1000

-- CLOSE BUTTON
local CloseBtn = Instance.new("TextButton", MainFrame)
CloseBtn.BackgroundColor3 = Color3.fromRGB(255,80,80)
CloseBtn.Position = UDim2.new(1,-50,0,15)
CloseBtn.Size = UDim2.new(0,35,0,35)
CloseBtn.Text = "X"
CloseBtn.Font = Enum.Font.GothamBold
CloseBtn.TextColor3 = Color3.new(1,1,1)
CloseBtn.TextScaled = true
CloseBtn.ZIndex = 1001
Instance.new("UICorner", CloseBtn).CornerRadius = UDim.new(0,8)

-- INPUT
local InputBox = Instance.new("TextBox", MainFrame)
InputBox.BackgroundColor3 = Color3.fromRGB(45,45,55)
InputBox.Position = UDim2.new(0,20,0,80)
InputBox.Size = UDim2.new(1,-40,0,50)
InputBox.Font = Enum.Font.Gotham
InputBox.PlaceholderText = "Enter Animation ID"
InputBox.Text = "507766388"
InputBox.TextColor3 = Color3.new(1,1,1)
InputBox.TextScaled = true
InputBox.ZIndex = 1000
Instance.new("UICorner", InputBox).CornerRadius = UDim.new(0,10)

-- LOAD BUTTON
local LoadBtn = Instance.new("TextButton", MainFrame)
LoadBtn.BackgroundColor3 = Color3.fromRGB(0,255,127)
LoadBtn.Position = UDim2.new(0,20,0,150)
LoadBtn.Size = UDim2.new(0.47,-25,0,60)
LoadBtn.Font = Enum.Font.GothamBold
LoadBtn.Text = "üé¨ LOAD"
LoadBtn.TextColor3 = Color3.fromRGB(30,30,40)
LoadBtn.TextScaled = true
LoadBtn.ZIndex = 1000
Instance.new("UICorner", LoadBtn).CornerRadius = UDim.new(0,10)

-- STOP BUTTON
local StopBtn = Instance.new("TextButton", MainFrame)
StopBtn.BackgroundColor3 = Color3.fromRGB(255,100,100)
StopBtn.Position = UDim2.new(0.52,-20,0,150)
StopBtn.Size = UDim2.new(0.47,-25,0,60)
StopBtn.Font = Enum.Font.GothamBold
StopBtn.Text = "‚èπ STOP"
StopBtn.TextColor3 = Color3.new(1,1,1)
StopBtn.TextScaled = true
StopBtn.ZIndex = 1000
Instance.new("UICorner", StopBtn).CornerRadius = UDim.new(0,10)

-- STATUS
local Status = Instance.new("TextLabel", MainFrame)
Status.BackgroundColor3 = Color3.fromRGB(45,45,55)
Status.Position = UDim2.new(0,20,0,230)
Status.Size = UDim2.new(1,-40,0,40)
Status.Font = Enum.Font.GothamBold
Status.Text = "‚úÖ READY"
Status.TextColor3 = Color3.fromRGB(0,255,127)
Status.TextScaled = true
Status.ZIndex = 1000
Instance.new("UICorner", Status).CornerRadius = UDim.new(0,10)

-- PRESETS
local Presets = {
    {name="Wave", id="507766388"},
    {name="Floss", id="505757002"},
    {name="Dance", id="522635514"},
    {name="Crab", id="522635821"}
}

for i,preset in ipairs(Presets) do
    local Btn = Instance.new("TextButton", MainFrame)
    Btn.BackgroundColor3 = Color3.fromRGB(60,60,70)
    Btn.Position = UDim2.new(0,20+(i-1)*100,0,290)
    Btn.Size = UDim2.new(0,95,0,40)
    Btn.Font = Enum.Font.Gotham
    Btn.Text = preset.name
    Btn.TextColor3 = Color3.new(1,1,1)
    Btn.TextScaled = true
    Btn.ZIndex = 1000
    Instance.new("UICorner", Btn).CornerRadius = UDim.new(0,8)

    Btn.MouseButton1Click:Connect(function()
        InputBox.Text = preset.id
        Status.Text = "‚úÖ Selected: "..preset.name
        Status.TextColor3 = Color3.fromRGB(0,255,127)
    end)
end

-- ANIMATION SYSTEM (FIXED)
local currentAnim

local function loadAnimation(id)
    local char = player.Character
    if not char then return end

    local humanoid = char:FindFirstChildOfClass("Humanoid")
    if not humanoid then return end

    local animator = humanoid:FindFirstChildOfClass("Animator")
    if not animator then
        animator = Instance.new("Animator")
        animator.Parent = humanoid
    end

    if currentAnim then
        currentAnim:Stop()
        currentAnim:Destroy()
    end

    local anim = Instance.new("Animation")
    anim.AnimationId = "rbxassetid://"..id

    currentAnim = animator:LoadAnimation(anim)
    currentAnim:Play()

    Status.Text = "‚ñ∂ Playing ID: "..id
    Status.TextColor3 = Color3.fromRGB(0,255,127)
end

-- EVENTS
LoadBtn.MouseButton1Click:Connect(function()
    local id = InputBox.Text:match("%d+")
    if id then
        loadAnimation(id)
    else
        Status.Text = "‚ùå Invalid ID"
        Status.TextColor3 = Color3.fromRGB(255,100,100)
    end
end)

StopBtn.MouseButton1Click:Connect(function()
    if currentAnim then
        currentAnim:Stop()
        currentAnim:Destroy()
        currentAnim = nil
        Status.Text = "‚èπ Stopped"
        Status.TextColor3 = Color3.fromRGB(255,200,0)
    end
end)

CloseBtn.MouseButton1Click:Connect(function()
    if currentAnim then
        currentAnim:Stop()
        currentAnim:Destroy()
    end
    ScreenGui:Destroy()
end)

UserInputService.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.F1 then
        MainFrame.Visible = not MainFrame.Visible
    end
end)

player.CharacterAdded:Connect(function()
    currentAnim = nil
end)

print("üé≠ DELTA ANIMATION LOADER LOADED")

-- DELTA EXECUTOR FE Animation Loader (100% Working)
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")

local player = Players.LocalPlayer

-- DELTA FIX: Use PlayerGui with high priority
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "AnimationLoaderDelta"
ScreenGui.DisplayOrder = 2147483647
ScreenGui.ResetOnSpawn = false
ScreenGui.IgnoreGuiInset = true
ScreenGui.Parent = player:WaitForChild("PlayerGui")

-- DELTA MAIN FRAME (GUARANTEED VISIBLE)
local MainFrame = Instance.new("Frame")
MainFrame.Name = "Main"
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
MainFrame.BorderSizePixel = 0
MainFrame.Position = UDim2.new(0.02, 0, 0.02, 0) -- TOP LEFT CORNER (DELTA SAFE)
MainFrame.Size = UDim2.new(0, 420, 0, 380)
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.ZIndex = 999

-- Corners + Stroke
local Corner = Instance.new("UICorner", MainFrame)
Corner.CornerRadius = UDim.new(0, 12)

local Stroke = Instance.new("UIStroke", MainFrame)
Stroke.Color = Color3.fromRGB(0, 255, 127)
Stroke.Thickness = 3

-- TITLE (BIG + BRIGHT)
local Title = Instance.new("TextLabel")
Title.Parent = MainFrame
Title.BackgroundTransparency = 1
Title.Position = UDim2.new(0, 20, 0, 15)
Title.Size = UDim2.new(1, -80, 0, 50)
Title.Font = Enum.Font.GothamBold
Title.Text = "üé≠ DELTA ANIMATION LOADER"
Title.TextColor3 = Color3.fromRGB(0, 255, 127)
Title.TextScaled = true
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.ZIndex = 1000

-- CLOSE BUTTON
local CloseBtn = Instance.new("TextButton")
CloseBtn.Parent = MainFrame
CloseBtn.BackgroundColor3 = Color3.fromRGB(255, 80, 80)
CloseBtn.Position = UDim2.new(1, -50, 0, 15)
CloseBtn.Size = UDim2.new(0, 35, 0, 35)
CloseBtn.Text = "X"
CloseBtn.Font = Enum.Font.GothamBold
CloseBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseBtn.TextScaled = true
CloseBtn.ZIndex = 1001

local CloseCorner = Instance.new("UICorner", CloseBtn)
CloseCorner.CornerRadius = UDim.new(0, 8)

-- INPUT BOX (LARGE)
local InputBox = Instance.new("TextBox")
InputBox.Parent = MainFrame
InputBox.BackgroundColor3 = Color3.fromRGB(45, 45, 55)
InputBox.Position = UDim2.new(0, 20, 0, 80)
InputBox.Size = UDim2.new(1, -40, 0, 50)
InputBox.Font = Enum.Font.Gotham
InputBox.PlaceholderText = "Enter ID: 507766388 (Wave)"
InputBox.Text = "507766388"
InputBox.TextColor3 = Color3.fromRGB(255, 255, 255)
InputBox.TextScaled = true
InputBox.ZIndex = 1000

local InputCorner = Instance.new("UICorner", InputBox)
InputCorner.CornerRadius = UDim.new(0, 10)

-- LOAD BUTTON (HUGE)
local LoadBtn = Instance.new("TextButton")
LoadBtn.Parent = MainFrame
LoadBtn.BackgroundColor3 = Color3.fromRGB(0, 255, 127)
LoadBtn.Position = UDim2.new(0, 20, 0, 150)
LoadBtn.Size = UDim2.new(0.47, -25, 0, 60)
LoadBtn.Font = Enum.Font.GothamBold
LoadBtn.Text = "üé¨ LOAD ANIMATION"
LoadBtn.TextColor3 = Color3.fromRGB(30, 30, 40)
LoadBtn.TextScaled = true
LoadBtn.ZIndex = 1000

local LoadCorner = Instance.new("UICorner", LoadBtn)
LoadCorner.CornerRadius = UDim.new(0, 10)

-- STOP BUTTON
local StopBtn = Instance.new("TextButton")
StopBtn.Parent = MainFrame
StopBtn.BackgroundColor3 = Color3.fromRGB(255, 100, 100)
StopBtn.Position = UDim2.new(0.52, -20, 0, 150)
StopBtn.Size = UDim2.new(0.47, -25, 0, 60)
StopBtn.Font = Enum.Font.GothamBold
StopBtn.Text = "‚èπÔ∏è STOP"
StopBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
StopBtn.TextScaled = true
StopBtn.ZIndex = 1000

local StopCorner = Instance.new("UICorner", StopBtn)
StopCorner.CornerRadius = UDim.new(0, 10)

-- STATUS
local Status = Instance.new("TextLabel")
Status.Parent = MainFrame
Status.BackgroundColor3 = Color3.fromRGB(45, 45, 55)
Status.Position = UDim2.new(0, 20, 0, 230)
Status.Size = UDim2.new(1, -40, 0, 40)
Status.Font = Enum.Font.GothamBold
Status.Text = "‚úÖ DELTA READY! GUI LOADED!"
Status.TextColor3 = Color3.fromRGB(0, 255, 127)
Status.TextScaled = true
Status.ZIndex = 1000

local StatusCorner = Instance.new("UICorner", Status)
StatusCorner.CornerRadius = UDim.new(0, 10)

-- PRESETS
local Presets = {
    {name="Wave", id="507766388"},
    {name="Floss", id="505757002"},
    {name="Dance", id="522635514"},
    {name="Crab", id="522635821"}
}

for i, preset in ipairs(Presets) do
    local Btn = Instance.new("TextButton")
    Btn.Parent = MainFrame
    Btn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
    Btn.Position = UDim2.new(0, 20 + (i-1)*100, 0, 290)
    Btn.Size = UDim2.new(0, 95, 0, 40)
    Btn.Font = Enum.Font.Gotham
    Btn.Text = preset.name
    Btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    Btn.TextScaled = true
    Btn.ZIndex = 1000
    
    local PCorner = Instance.new("UICorner", Btn)
    PCorner.CornerRadius = UDim.new(0, 8)
    
    Btn.MouseButton1Click:Connect(function()
        InputBox.Text = preset.id
        Status.Text = preset.name .. " loaded!"
        Status.TextColor3 = Color3.fromRGB(0, 255, 127)
    end)
end

-- ANIMATION SYSTEM
local currentAnim = nil

local function loadAnimation(id)
    if player.Character and player.Character:FindFirstChild("Humanoid") then
        local success, err = pcall(function()
            if currentAnim then
                currentAnim:Stop()
                currentAnim:Destroy()
            end
            
            local anim = Instance.new("Animation")
            anim.AnimationId = "rbxassetid://" .. id
            currentAnim = player.Character.Humanoid:LoadAnimation(anim)
            currentAnim:Play()
            
            Status.Text = "‚úÖ Playing: " .. preset.name or id
            Status.TextColor3 = Color3.fromRGB(0, 255, 127)
        end)
        
        if not success then
            Status.Text = "‚ùå Error: " .. tostring(err)
            Status.TextColor3 = Color3.fromRGB(255, 100, 100)
        end
    else
        Status.Text = "‚ùå No Character!"
        Status.TextColor3 = Color3.fromRGB(255, 100, 100)
    end
end

-- BUTTON EVENTS
LoadBtn.MouseButton1Click:Connect(function()
    local id = InputBox.Text:match("%d+")
    if id then
        loadAnimation(id)
    else
        Status.Text = "‚ùå Invalid ID!"
        Status.TextColor3 = Color3.fromRGB(255, 100, 100)
    end
end)

StopBtn.MouseButton1Click:Connect(function()
    if currentAnim then
        currentAnim:Stop()
        currentAnim:Destroy()
        currentAnim = nil
        Status.Text = "‚èπÔ∏è Stopped!"
        Status.TextColor3 = Color3.fromRGB(255, 200, 0)
    end
end)

InputBox.FocusLost:Connect(function(enter)
    if enter then
        local id = InputBox.Text:match("%d+")
        if id then loadAnimation(id) end
    end
end)

CloseBtn.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)

-- DELTA TOGGLE (F1)
UserInputService.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.F1 then
        MainFrame.Visible = not MainFrame.Visible
    end
end)

print("üé≠ DELTA ANIMATION LOADER LOADED!")
print("üìç GUI in TOP LEFT CORNER")
print("üéÆ F1 = Toggle | Drag to move")
print("‚úÖ Wave (507766388) pre-loaded!")
